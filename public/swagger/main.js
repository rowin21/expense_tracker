(async () => {
    const docs = document.getElementById('docs');
    const apiDescriptionDocument = {"openapi":"3.0.0","info":{"title":"Expense Tracker API","description":"API Documentation for the Expense Tracker Application","version":"1.0.0"},"servers":[{"url":"https://merry-rugelach-6eb00d.netlify.app/v1"}],"components":{"securitySchemes":{"userBearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Specify the user token"}},"parameters":{"XDemoHeader":{"name":"X-Demo","in":"header","description":"Set to 'true' to use the demo database, 'false' or omit for main database.","required":false,"schema":{"type":"string","enum":["true","false"]}}}},"security":[],"paths":{"/activity/user":{"get":{"summary":"Get user expense activity across all groups","tags":["Activity"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"User activity fetched successfully"},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/activity/settlements":{"get":{"summary":"Get user settlement activity (awaiting confirmation)","tags":["Activity"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"Settlement activity fetched successfully"},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/auth/send-otp":{"post":{"summary":"Send an OTP to the user's phone via WhatsApp","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone"],"properties":{"countryCode":{"type":"string","example":"91","description":"Country code without the + symbol"},"phone":{"type":"string","example":"9876543210","description":"Phone number without country code"}}}}}},"responses":{"200":{"description":"OTP sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"OTP sent successfully"},"messageID":{"type":"string","example":"wamid.xxx"}}}}}},"400":{"description":"Bad request - validation error or rate limit"},"500":{"description":"Internal server error"}}}},"/auth/verify-otp":{"post":{"summary":"Verify OTP and login/register user","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["countryCode","phone","otp"],"properties":{"countryCode":{"type":"string","example":"91","description":"Country code without the + symbol"},"phone":{"type":"string","example":"9876543210","description":"Phone number without country code"},"otp":{"type":"string","example":"123456","description":"6-digit OTP received via WhatsApp"}}}}}},"responses":{"200":{"description":"OTP verified successfully, user logged in","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Login successful"},"data":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string"},"profileCompleted":{"type":"boolean"}}},"isNewUser":{"type":"boolean"}}}}}}}},"400":{"description":"Invalid OTP or OTP expired"},"500":{"description":"Internal server error"}}}},"/auth/refresh-token":{"post":{"summary":"Refresh access token using refresh token","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["refreshToken"],"properties":{"refreshToken":{"type":"string","description":"The refresh token received during login"}}}}}},"responses":{"200":{"description":"Access token refreshed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string"}}}}}},"400":{"description":"Invalid input"},"401":{"description":"Invalid or expired refresh token"},"500":{"description":"Server error"}}}},"/auth/logout":{"post":{"summary":"Logout user by invalidating the access token","tags":["Auth"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"Logged out successfully"},"400":{"description":"No token provided"},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/expenses/groups/{groupId}/expenses":{"post":{"summary":"Add an expense to a group","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"groupId","required":true,"schema":{"type":"string"},"description":"ID of the group where the expense occurred"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["amount","paidBy","description","date"],"properties":{"amount":{"type":"number","description":"Total amount paid (must be > 0)","example":150.5},"paidBy":{"type":"string","description":"ID of the user who paid","example":"65a1b2c3d4e5f6g7h8i9j0k2"},"description":{"type":"string","description":"Description of the expense","example":"Team lunch at Pizza Place"},"date":{"type":"string","format":"date","description":"Date of the expense (YYYY-MM-DD)","example":"2024-02-14"}}}}}},"responses":{"200":{"description":"Expense added successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"Expense added successfully"},"data":{"type":"object","properties":{"expenseId":{"type":"string"},"amount":{"type":"number"},"paidBy":{"type":"string"},"description":{"type":"string"},"perPersonShare":{"type":"number"},"splitAmong":{"type":"array","items":{"type":"string"}},"date":{"type":"string"}}}}}}}},"400":{"description":"Bad Request (Missing fields or invalid data)"},"403":{"description":"Forbidden (User not in group)"},"404":{"description":"Group not found"},"500":{"description":"Internal Server Error"}}},"get":{"summary":"Get all expenses for a group","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"groupId","required":true,"schema":{"type":"string"},"description":"ID of the group"}],"responses":{"200":{"description":"Expenses fetched successfully"},"403":{"description":"Forbidden (Not a member)"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/expenses/{expenseId}":{"put":{"summary":"Update an expense (Admin or Payer only)","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"expenseId","required":true,"schema":{"type":"string"},"description":"ID of the expense to update"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"amount":{"type":"number","description":"New amount"},"description":{"type":"string","description":"New description"},"date":{"type":"string","format":"date"}}}}}},"responses":{"200":{"description":"Expense updated successfully"},"403":{"description":"Forbidden (Not authorized)"},"404":{"description":"Expense or Group not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete (soft delete) an expense (Admin or Payer only)","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"expenseId","required":true,"schema":{"type":"string"},"description":"ID of the expense to delete"}],"responses":{"200":{"description":"Expense deleted successfully"},"403":{"description":"Forbidden (Not authorized)"},"404":{"description":"Expense or Group not found"},"500":{"description":"Server error"}}}},"/expenses/{expenseId}/details":{"get":{"summary":"Get detailed expense information (shares, owed/owns)","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"expenseId","required":true,"schema":{"type":"string"},"description":"ID of the expense"}],"responses":{"200":{"description":"Expense details fetched successfully"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error"}}}},"/expenses/groups/{id}/overview":{"get":{"summary":"Get expense overview for a group (net balances of all members)","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"responses":{"200":{"description":"Group expense overview fetched successfully","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"userId":{"type":"string"},"name":{"type":"string"},"totalPaid":{"type":"number"},"totalOwed":{"type":"number"},"netSettled":{"type":"number"},"balance":{"type":"number","description":"+ve means they are owed money, -ve means they owe money"},"isYou":{"type":"boolean","description":"True if this member is the logged-in user"},"isPay":{"type":"boolean","description":"True if the member needs to pay (negative balance)"}}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - Not a member"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/expenses/groups/{id}/info":{"get":{"summary":"Get summary info and personal balance for the logged-in user in a group","tags":["Expenses"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"responses":{"200":{"description":"Expense info fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"groupName":{"type":"string"},"memberCount":{"type":"number"},"createdAt":{"type":"string","format":"date-time"},"balance":{"type":"number"},"isPay":{"type":"boolean"}}}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not found"},"500":{"description":"Server error"}}}},"/groups":{"post":{"summary":"Create a new expense group","tags":["Groups"],"security":[{"userBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["groupName"],"properties":{"groupName":{"type":"string"},"members":{"type":"array","items":{"type":"object","required":["phone"],"properties":{"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string","default":"91"}}}}}}}}},"responses":{"200":{"description":"Group created successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/groups/{id}":{"put":{"summary":"Update an existing expense group (rename)","tags":["Groups"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"groupName":{"type":"string"}}}}}},"responses":{"200":{"description":"Group updated successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - Not a member"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}},"delete":{"summary":"Delete a group (by admin) or Leave a group (by member)","tags":["Groups"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"responses":{"200":{"description":"Group deleted or left successfully"},"400":{"description":"Cannot leave due to unsettled expenses"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/groups/{id}/members":{"post":{"summary":"Add members to an existing group","tags":["Groups"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["members"],"properties":{"members":{"type":"array","items":{"type":"object","required":["phone"],"properties":{"name":{"type":"string"},"phone":{"type":"string"},"countryCode":{"type":"string","default":"91"}}}}}}}}},"responses":{"200":{"description":"Members added successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - Not a member"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}},"get":{"summary":"Get all members of a group","tags":["Groups"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"responses":{"200":{"description":"Group members fetched successfully"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - Not a member"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/groups/{id}/members/remove":{"post":{"summary":"Remove members from an existing group","tags":["Groups"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string"},"description":"Group ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["memberIds"],"properties":{"memberIds":{"type":"array","items":{"type":"string"},"description":"Array of User IDs to remove"}}}}}},"responses":{"200":{"description":"Members removed successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden - Not a member"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/groups/list":{"post":{"summary":"Get all groups (User's groups) with search, pagination, and sorting","tags":["Groups"],"security":[{"userBearerAuth":[]}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"type":"object","properties":{"options":{"type":"object","properties":{"page":{"type":"number","default":1},"itemsPerPage":{"type":"number","default":10},"sortBy":{"type":"array","items":{"type":"string"},"example":["createdAt"]},"sortDesc":{"type":"array","items":{"type":"boolean"},"example":[true]}}},"search":{"type":"array","items":{"type":"object","required":["term","fields"],"properties":{"term":{"type":"string"},"fields":{"type":"array","items":{"type":"string","example":"name"}},"startsWith":{"type":"boolean"},"endsWith":{"type":"boolean"}}}},"project":{"type":"object","description":"Fields to include/exclude (e.g. { \"name\": 1, \"_id\": 1 })"}}}}}},"responses":{"200":{"description":"Groups fetched successfully"},"401":{"description":"Unauthorized"},"500":{"description":"Server error"}}}},"/health":{"get":{"summary":"Health Check","description":"Returns the status of the API","responses":{"200":{"description":"API is running","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"OK"}}}}}}}}},"/settlements/{settlementId}/initiate":{"post":{"summary":"Initiate a settlement (Payer adds payment details)","tags":["Settlements"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"settlementId","required":true,"schema":{"type":"string"},"description":"ID of the settlement"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["paymentMethod"],"properties":{"paymentMethod":{"type":"string","enum":["cash","upi","Net","other"]},"referenceId":{"type":"string"}}}}}},"responses":{"200":{"description":"Settlement initiated successfully"},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Settlement not found"},"500":{"description":"Server error"}}}},"/settlements/{settlementId}/cancel":{"post":{"summary":"Cancel an initiated settlement (only initiator can do this)","tags":["Settlements"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"settlementId","required":true,"schema":{"type":"string"},"description":"ID of the settlement to cancel"}],"responses":{"200":{"description":"Settlement cancelled successfully"},"400":{"description":"Cannot cancel (wrong status)"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden (Not the initiator)"},"404":{"description":"Settlement not found"},"500":{"description":"Server error"}}}},"/settlements/groups/{groupId}":{"get":{"summary":"Get all settlements for a group","tags":["Settlements"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"groupId","required":true,"schema":{"type":"string"},"description":"ID of the group"}],"responses":{"200":{"description":"Settlements fetched successfully"},"403":{"description":"Forbidden"},"404":{"description":"Group not found"},"500":{"description":"Server error"}}}},"/settlements/{settlementId}":{"patch":{"summary":"Update settlement status (Settled/Rejected) - Only receiver can do this","tags":["Settlements"],"security":[{"userBearerAuth":[]}],"parameters":[{"in":"path","name":"settlementId","required":true,"schema":{"type":"string"},"description":"ID of the settlement"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["status"],"properties":{"status":{"type":"string","enum":["settled","rejected"]}}}}}},"responses":{"200":{"description":"Settlement status updated successfully"},"403":{"description":"Forbidden (Not the receiver)"},"404":{"description":"Settlement not found"},"500":{"description":"Server error"}}}},"/users/profile":{"get":{"summary":"Get user profile details","tags":["User"],"security":[{"userBearerAuth":[]}],"responses":{"200":{"description":"User profile fetched successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"User profile fetched successfully"},"data":{"type":"object","properties":{"name":{"type":"string"},"mobileNumber":{"type":"string"},"joinedAt":{"type":"string","format":"date-time"},"groupsJoined":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}}}}}}}}}}},"404":{"description":"User not found"},"500":{"description":"Internal server error"}}},"post":{"summary":"Update user profile details","tags":["User"],"security":[{"userBearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"email":{"type":"string","example":"john@example.com"}}}}}},"responses":{"200":{"description":"User profile updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"message":{"type":"string","example":"User profile updated successfully"},"data":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}}}}}}}},"400":{"description":"Validation error"},"401":{"description":"Unauthorized"},"500":{"description":"Internal server error"}}}}},"tags":[{"name":"Activity","description":"User activity related endpoints"},{"name":"Auth","description":"Authentication endpoints for OTP-based login"},{"name":"Expenses","description":"Expense management endpoints"},{"name":"Groups","description":"Group management endpoints"},{"name":"Settlements","description":"Settlement management endpoints"},{"name":"User","description":"User Management"}]};
    docs.apiDescriptionDocument = apiDescriptionDocument;
  })();
